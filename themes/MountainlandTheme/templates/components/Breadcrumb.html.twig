{% set resolvedItems = items|default([]) %}
{% set separator = separator|default('>') %}
{% set rootClass = class|default('') %}

<div class="mb-4">
    <nav class="flex flex-wrap items-center gap-x-2 gap-y-1 text-sm text-gray-600 {{ rootClass }}" aria-label="Breadcrumb">
        {% for item in resolvedItems %}
            {% set isHome = item.label|default('') == 'Home' %}
            {% if item.icon is defined and item.icon is not empty %}
                <img src="{{ asset(item.icon) }}" alt="{{ item.label|default('') }}" class="w-4 h-4" />
            {% elseif isHome %}
                <img src="{{ asset('var/assets/images/misc/home.webp') }}" alt="Home" class="w-4 h-4" />
            {% endif %}
            {% if item.url is defined %}
                <a href="{{ item.url }}" class="mcs-primary-text hover:opacity-70 transition">{{ item.label }}</a>
            {% else %}
                <span class="font-semibold text-gray-900">{{ item.label }}</span>
            {% endif %}
            {% if not loop.last %}
                <span class="text-gray-400">{{ separator }}</span>
            {% endif %}
        {% endfor %}
    </nav>
</div>
