{% extends 'layout.html.twig' %}

{% block head %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/checkout.css') }}" />
{% endblock %}

{% block content %}
    
    {% set orderNumber = 'ORD-' ~ random(100000, 999999) %}
    {% set orderDate = "now"|date("F j, Y") %}
    {% set estimatedDelivery = "now +5 days"|date("F j, Y") %}
    {% set orderItems = [
        {
            name: 'Premium Widget Set',
            quantity: 2,
            price: 49.99
        },
        {
            name: 'Professional Tool Kit',
            quantity: 1,
            price: 129.99
        },
        {
            name: 'Safety Equipment Bundle',
            quantity: 3,
            price: 24.99
        }
    ] %}
    {% set subtotal = 279.96 %}
    {% set shipping = 15.00 %}
    {% set tax = 24.50 %}
    {% set total = 319.46 %}

    <main class="thank-you-page">
        <div class="thank-you-header">
            <div class="thank-you-icon">
                <img src="{{ asset('images/misc/check.png') }}" alt="Check-mark"> 
            </div>
            <h1>Thank You for Your Order!</h1>
            <p>Your order has been received and is being processed.</p>
        </div>

        <div class="order-details">
            <div class="order-info-grid">
                <div class="order-info-item">
                    <h3>Order Number</h3>
                    <p>{{ orderNumber }}</p>
                </div>
                <div class="order-info-item">
                    <h3>Order Date</h3>
                    <p>{{ orderDate }}</p>
                </div>
                <div class="order-info-item">
                    <h3>Estimated Delivery</h3>
                    <p>{{ estimatedDelivery }}</p>
                </div>
            </div>

            <div class="order-items">
                <h2>Order Items</h2>
                {% for item in orderItems %}
                    <div class="order-item">
                        <div class="item-details">
                            <div class="item-name">{{ item.name }}</div>
                            <div class="item-quantity">Quantity: {{ item.quantity }}</div>
                        </div>
                        <div class="item-price">${{ (item.price * item.quantity)|number_format(2, '.', ',') }}</div>
                    </div>
                {% endfor %}
            </div>

            <div class="order-summary">
                <div class="summary-row">
                    <span>Subtotal</span>
                    <span>${{ subtotal|number_format(2, '.', ',') }}</span>
                </div>
                <div class="summary-row">
                    <span>Shipping</span>
                    <span>${{ shipping|number_format(2, '.', ',') }}</span>
                </div>
                <div class="summary-row">
                    <span>Tax</span>
                    <span>${{ tax|number_format(2, '.', ',') }}</span>
                </div>
                <div class="summary-row total">
                    <span>Total</span>
                    <span>${{ total|number_format(2, '.', ',') }}</span>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <a href="{{ path('home') }}" class="btn btn-primary">Continue Shopping</a>
            <a href="#" class="btn btn-secondary">View Order Details</a>
        </div>

        <div class="additional-info">
            <h3>What happens next?</h3>
            <ul>
                <li>✓ You will receive an email confirmation shortly at your registered email address.</li>
                <li>✓ Once your order ships, we'll send you tracking information.</li>
                <li>✓ You can track your order status in your account dashboard.</li>
                <li>✓ If you have any questions, feel free to contact our support team.</li>
            </ul>
        </div>
    </main>
{% endblock %}
